%\documentclass[12pt]{myucthesis}
\documentclass{ucbthesis}
\usepackage[backend=bibtex,uniquename=full,maxnames=20]{biblatex}

\DisemulatePackage{setspace}
\usepackage{setspace}

%\nofiles
% The above command prevents latex from writing its auxiliary
% files. This is useful if you want to manually tweak them before you
% generate your final PDF.


% Page layout. The fancyhdr package may complain about the need for a
% larger headheight, depending on how long chapter titles are; if left
% unspecified in the geometry setup, it defaults to 12pt. The
% "showframe" option causes the geometry package (version >= 5.0) to
% show a frame around the margins on every page, which is great for
% checking that you don't overflow anywhere.

%\usepackage[letterpaper,includehead,margin=1in,headheight=15pt,showframe]{geometry}
\usepackage[letterpaper,includehead,margin=1in,headheight=15pt]{geometry}
\let\footruleskip\undefined
\usepackage{fancyhdr}
\pagestyle{fancyplain}

\lhead[\fancyplain{\thepage}{\thepage}]{\fancyplain{}{\scshape\rightmark}}
\rhead[\fancyplain{}{\scshape\leftmark}]{\fancyplain{\thepage}{\thepage}}
\chead{}
\cfoot{}
\lfoot{}
\rfoot{}

\def\bibpreamble{\addcontentsline{toc}{chapter}{Bibliography}} % get a good TOC entry

\newcommand{\rsection}[1]{Section #1}

% \pdfmapfile{lcdftools.map}
% \fontfamily{sabon-bold}\selectfont
%\usepackage{sabon}
\usepackage{palatino}

%\usepackage{helvetica}
%\usepackage{bookman}

%\usepackage{fontspec}
%\setmainfont[
% BoldFont={sabon-bold.ttf},
% ItalicFont={sabon-italic.ttf},
% BoldItalicFont={sabon-bolditalic.ttf}
% ]{sabon-regular.ttf}
% \setmonofont{Inconsolata-Regular.ttf}

%\setmainfont[Mapping=tex-ansi]{Inconsolata-Regular.ttf}
%\newfontfamily{\oldstylenums}{sabon.ttf}
%\usepackage[T1]{fontenc} % see http://tinyurl.com/67zdxwf
%\usepackage{lmodern}
%\usepackage{mathpazo}
%\usepackage{kpfonts}
%\usepackage{mathptmx}
%\usepackage{times,mtpro2}
%\usepackage{stix}
%\usepackage{txfonts}
%\usepackage{newtxtext,newtxmath}
%\usepackage{libertine} \usepackage[libertine]{newtxmath}

%\usepackage{sabon,placeins}
%\usepackage{zi4}
%\renewcommand*{\ttdefault}{zi4}

\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{4}

\usepackage[pdfauthor={Colin Scott},
            pdftitle={Reducing Faulty Executions of Distributed Systems},
            pdfsubject={PhD Thesis},
            pdfkeywords={}]{hyperref}

\usepackage{footmisc}
%\usepackage{times}
\usepackage{xcolor}
\usepackage{xspace}
\usepackage{boxedminipage}
\usepackage{pifont}
\usepackage{pseudocode}
\usepackage{multirow}
\usepackage{tabularx}
%\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{csquotes}
\usepackage{latexsym}
\usepackage{algorithm}
\usepackage{changepage}
\usepackage[noend]{algpseudocode}

\definecolor{MyDarkBlue}{rgb}{0,0.08,0.45}
\hypersetup{
  colorlinks,%
  citecolor=MyDarkBlue,%
  filecolor=MyDarkBlue,%
  linkcolor=MyDarkBlue,%
  urlcolor=MyDarkBlue
}
\usepackage{fixltx2e}
\usepackage{textgreek}


% ----------------- STS Macros: ---------------------
\newcommand{\projectname}{{STS}}
\newcommand{\projectmeaning}{SDN Troubleshooting System}

\newcommand{\tester}{mock network}

\newcommand{\simulator}{retrospective causal inference}
\newcommand{\Simulator}{Retrospective causal inference}
\newcommand{\SIMULATOR}{Retrospective Causal Inference}
\newcommand{\tbd}[1]{{\textbf{[[TBD: {#1}]]}}}
\newcommand{\ie}{{\textit{i.e.}}}
\newcommand{\eg}{{\textit{e.g.}}}
\newcommand{\cf}{{\textit{cf.}}}
\newcommand{\etc}{{\textit{etc.}}}
\newcommand{\viz}{{\textit{viz.}}}
\newcommand{\apriori}{{\textit{a priori}}}
\newcommand{\eat}[1]{}

% ----------------- DEMi Macros: ---------------------
\newcommand{\sys}{DEMi\xspace}
\newcommand{\system}{Distributed Execution Minimizer}


% ---------------- Notes: -----------------------
\newcommand{\num}[1]{{\color{red}\bf {#1}}}

\newcommand{\colin}[1]{}
\newcommand{\scott}[1]{}

\renewcommand{\S}{chapter~}

% --------- Pseudocode formatting ----------------
% \usepackage{fontspec}
% \setmainfont{Hoefler Text}

% \newcommand*\Let[2]{\State #1 $\gets$ #2}
% \algrenewcommand\alglinenumber[1]{
%     {\sf\footnotesize\addfontfeatures{Colour=888888,Numbers=Monospaced}#1}}
% \algrenewcommand\algorithmicrequire{\textbf{Precondition:}}
% \algrenewcommand\algorithmicensure{\textbf{Postcondition:}}
\renewcommand{\algorithmicforall}{\textbf{for each}}



% ------------ Macros for generating graphical event sequences: -----------
\usepackage{tikz}
% External event. Takes label as parameter.
\newcommand{\external}[1]{
\tikz[baseline=-0.5ex]\draw[black,fill=white] (0,0)
node[rounded corners,fill=red!60,draw,inner sep=0pt,minimum size=0.4cm] {$e_{#1}$};}%
% Internal event. Takes label as parameter.
\newcommand{\internal}[1]{
\tikz[baseline=-0.5ex]\draw[black,fill=white] (0,0)
node[rounded corners,fill=green!80,draw,inner sep=0pt,minimum size=0.4cm] {$i_{#1}$};}%

\makeatletter
% Functional foreach construct
% #1 - Function to call on each comma-separated item in #3
% #2 - Parameter to pass to function in #1 as first parameter
% #3 - Comma-separated list of items to pass as second parameter to function #1
\def\foreach#1#2#3{%
  \@test@foreach{#1}{#2}#3,\@end@token%
}

% Internal helper function - Eats one input
\def\@swallow#1{}

% Internal helper function - Checks the next character after #1 and #2 and
% continues loop iteration if \@end@token is not found
\def\@test@foreach#1#2{%
  \@ifnextchar\@end@token%
    {\@swallow}%
    {\@foreach{#1}{#2}}%
}

% Internal helper function - Calls #1{#2}{#3} and recurses
% The magic of splitting the third parameter occurs in the pattern matching of the \def
\def\@foreach#1#2#3,#4\@end@token{%
  #1{#2}{#3}%
  \@test@foreach{#1}{#2}#4\@end@token%
}

\makeatother

% Helper method, prepends a rightarrow before a node, throws away first
% argument
% TODO(cs): figure out how to make this a private method.
\def\connecthelper#1#2{#2$\mathtt{\rightarrow\mkern-6mu}$}
% Prepend a rightarrow before a node
\def\connect#1{\connecthelper{}{#1}}

% Chain together a list of nodes. Takes two parameters:
% #1: a comma-delimited list of the of everything in the list *except* the
% last element.
% #2: the *tail* of the chain
% TODO(cs): figure out how to delimit the first comma so that tail doesn't
% need to be specified separately.
\def\chain#1#2{\foreach{\connecthelper}{}{#1}$\mathtt{\;\cdot\!\!\cdot\!\!\cdot\mkern-5mu}$#2}

% Chain together a list of nodes, with two tails, separated by dots. Takes three parameters:
% #1: a comma-delimited list of the of everything in the list *except* the
% last element.
% #2: the first tail of the chain
% #2: the second tail of the chain
\def\doublechain#1#2#3{\chain{#1}{#2}$\mathtt{\rightarrow\mkern-6mu\cdot\!\!\cdot\!\!\cdot\mkern-4mu}$#3}

\def\eventlist#1#2{$\mathtt{\text{#1}\!\cdot\!\!\cdot\!\!\cdot\mkern-8mu\text{#2}}$}

% -------------- Delta-debugging symbols: -----------
\newcommand{\PASS}{\text{\ding{52}}\xspace}
\newcommand{\DFAIL}{\text{\ding{56}}\xspace}
\newcommand{\cpass}{{T_{\scriptscriptstyle \PASS}}}
\newcommand{\cfail}{{T_{\scriptscriptstyle \DFAIL}}}
\newcommand{\dpass}{{T'_{\scriptscriptstyle \PASS}}}
\newcommand{\dfail}{{T'_{\scriptscriptstyle \DFAIL}}}
\newcommand{\done}{{T_{\scriptscriptstyle 1}}}
\newcommand{\dtwo}{{T_{\scriptscriptstyle 2}}}
\newcommand{\test}{\textit{test}\xspace}
\newcommand{\ddmin}{\textit{ddmin}\xspace}

% ------------ OLD space tweaks: ----------------
%\makeatletter
%\newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
%\makeatother

%,xcolor,rotating,graphicx,graphics,url,epsfig,
%amsfonts,algpseudocode,xspace,amsmath,amssymb,fancyvrb,fixltx2e

% Ethan hacks:----------
%\setlength{\pdfpagewidth}{8.5truein}
%\setlength{\pdfpageheight}{11truein}

%%% format things for making pretty tables using booktabs package
%\usepackage{multirow}
%\usepackage{booktabs}
%\setlength{\heavyrulewidth}{0.10em}
%\setlength{\lightrulewidth}{0.05em}
%\setlength{\cmidrulewidth}{\lightrulewidth}
%\setlength{\cmidrulekern}{0em}%
%
%\let\oldthebibliography=\thebibliography
%\let\endoldthebibliography=\endthebibliography
%\renewenvironment{thebibliography}[1]{%
%\begin{oldthebibliography}{#1}%
%\setlength{\itemsep}{-.3ex}%
%}%
%{%
%\end{oldthebibliography}%
%}

%\textfloatsep 10pt plus 3pt minus 2pt   % Space between main text and floats

%\newcommand{\squishlist}{
%   \begin{list}{$\bullet$}
%    { \setlength{\itemsep}{0pt}      \setlength{\parsep}{3pt}
%      \setlength{\topsep}{3pt}       \setlength{\partopsep}{0pt}
%      \setlength{\leftmargin}{1.5em} \setlength{\labelwidth}{1em}
%      \setlength{\labelsep}{0.5em} } }
%
%\newcommand{\squishlisttwo}{
%   \begin{list}{$\bullet$}
%    { \setlength{\itemsep}{0pt}    \setlength{\parsep}{0pt}
%      \setlength{\topsep}{0pt}     \setlength{\partopsep}{0pt}
%      \setlength{\leftmargin}{2em} \setlength{\labelwidth}{1.5em}
%      \setlength{\labelsep}{0.5em} } }
%
%\newcommand{\squishend}{
%    \end{list}  }
%
%
%\def\compactify{\itemsep=2pt \topsep=3pt \partopsep=1pt \parsep=1pt \leftmargin=1.5em}
%\let\latexusecounter=\usecounter
%\newenvironment{CompactEnumerate}
%  {\def\usecounter{\compactify\latexusecounter}
%   \begin{enumerate}}
%   {\end{enumerate}\let\usecounter=\latexusecounter}
%\newenvironment{CompactItemize}
%   {\def\usecounter{\compactify\latexusecounter}
%   \begin{itemize}}
%   {\end{itemize}\let\usecounter=\latexusecounter}
%
% --------------------------------------------

% Signed quotes:
\def\signed #1{{\leavevmode\unskip\nobreak\hfil\penalty50\hskip2em
  \hbox{}\nobreak\hfil(#1)%
    \parfillskip=0pt \finalhyphendemerits=0 \endgraf}}

\newsavebox\mybox
\newenvironment{aquote}[1]
  {\savebox\mybox{#1}\begin{quote}}
    {\signed{\usebox\mybox}\end{quote}}


%============ No need to modify anything below this line =================

\bibliography{bib}


\sloppy
\begin{document}
\ssp % single spacing

\title{Reducing Faulty Executions of Distributed Systems}
\author{Robert Colin Butler Scott}
\degreesemester{Summer}
\degreeyear{2016}
\degree{Doctor of Philosophy}
\chair{Professor Scott Shenker}
%\othermembers{Professor Scott Shenker, Chair\\
\othermembers{Professor George Necula\\
  Professor Sylvia Ratnasamy\\
  Professor Tapan Parikh}
\numberofmembers{4}
\prevdegrees{B.S. (University of Washington) 2011 \\
  M.S. (UC Berkeley) 2014}
\field{Computer Science}
\campus{Berkeley}

% The title page generated by LaTeX is now acceptable for handing in.
% (This was not always the case).

\maketitle
%\approvalpage
\copyrightpage
